<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">Logs
├── ╭────────────────────────────────────────────────── Step 0 ───────────────────────────────────────────────────╮
│   │ <span style="background-color: #f0f8ff">╭──────────────────────────────────────────────── Prompt ─────────────────────────────────────────────────╮</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│ Given the following doctor's notes about a patient, please extract a dictionary that contains the       │</span> │
│   │ <span style="background-color: #f0f8ff">│ patient's information.                                                                                  │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│ 49 y/o Male with chronic macular rash to face &amp; hair, worse in beard, eyebrows &amp; nares.                 │</span> │
│   │ <span style="background-color: #f0f8ff">│ Itchy, flaky, slightly scaly. Moderate response to OTC steroid cream                                    │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│ Given below is XML that describes the information to extract from this document and the tags to extract │</span> │
│   │ <span style="background-color: #f0f8ff">│ it into.                                                                                                │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│ &lt;output&gt;                                                                                                │</span> │
│   │ <span style="background-color: #f0f8ff">│     &lt;string name="gender" description="Patient's gender"/&gt;                                              │</span> │
│   │ <span style="background-color: #f0f8ff">│     &lt;integer name="age" format="valid-range: min=0 max=100"/&gt;                                           │</span> │
│   │ <span style="background-color: #f0f8ff">│     &lt;list name="symptoms" description="Symptoms that the patient is currently experiencing. Each        │</span> │
│   │ <span style="background-color: #f0f8ff">│ symptom should be classified into a separate item in the list."&gt;                                        │</span> │
│   │ <span style="background-color: #f0f8ff">│         &lt;object&gt;                                                                                        │</span> │
│   │ <span style="background-color: #f0f8ff">│             &lt;string name="symptom" description="Symptom that a patient is experiencing"/&gt;               │</span> │
│   │ <span style="background-color: #f0f8ff">│             &lt;string name="affected_area" format="valid-choices: choices=['head', 'neck', 'chest']"      │</span> │
│   │ <span style="background-color: #f0f8ff">│ description="What part of the body the symptom is affecting"/&gt;                                          │</span> │
│   │ <span style="background-color: #f0f8ff">│         &lt;/object&gt;                                                                                       │</span> │
│   │ <span style="background-color: #f0f8ff">│     &lt;/list&gt;                                                                                             │</span> │
│   │ <span style="background-color: #f0f8ff">│     &lt;list name="current_meds" description="Medications the patient is currently taking and their        │</span> │
│   │ <span style="background-color: #f0f8ff">│ response"&gt;                                                                                              │</span> │
│   │ <span style="background-color: #f0f8ff">│         &lt;object&gt;                                                                                        │</span> │
│   │ <span style="background-color: #f0f8ff">│             &lt;string name="medication" description="Name of the medication the patient is taking"/&gt;      │</span> │
│   │ <span style="background-color: #f0f8ff">│             &lt;string name="response" description="How the patient is responding to the medication"/&gt;     │</span> │
│   │ <span style="background-color: #f0f8ff">│         &lt;/object&gt;                                                                                       │</span> │
│   │ <span style="background-color: #f0f8ff">│     &lt;/list&gt;                                                                                             │</span> │
│   │ <span style="background-color: #f0f8ff">│ &lt;/output&gt;                                                                                               │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│ ONLY return a valid JSON object (no other text is necessary), where the key of the field in JSON is the │</span> │
│   │ <span style="background-color: #f0f8ff">│ `name` attribute of the corresponding XML, and the value is of the type specified by the corresponding  │</span> │
│   │ <span style="background-color: #f0f8ff">│ XML's tag. The JSON MUST conform to the XML format, including any types and format requests e.g.        │</span> │
│   │ <span style="background-color: #f0f8ff">│ requests for lists, objects and specific types. Be correct and concise.                                 │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│ Here are examples of simple (XML, JSON) pairs that show the expected behavior:                          │</span> │
│   │ <span style="background-color: #f0f8ff">│ - `&lt;string name='foo' format='two-words lower-case' /&gt;` =&gt; `{'foo': 'example one'}`                     │</span> │
│   │ <span style="background-color: #f0f8ff">│ - `&lt;list name='bar'&gt;&lt;string format='upper-case' /&gt;&lt;/list&gt;` =&gt; `{"bar": ['STRING ONE', 'STRING TWO',     │</span> │
│   │ <span style="background-color: #f0f8ff">│ etc.]}`                                                                                                 │</span> │
│   │ <span style="background-color: #f0f8ff">│ - `&lt;object name='baz'&gt;&lt;string name="foo" format="capitalize two-words" /&gt;&lt;integer name="index"          │</span> │
│   │ <span style="background-color: #f0f8ff">│ format="1-indexed" /&gt;&lt;/object&gt;` =&gt; `{'baz': {'foo': 'Some String', 'index': 1}}`                        │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│ Json Output:                                                                                            │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
│   │ <span style="background-color: #f0f8ff">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │
│   │ <span style="background-color: #e7dfeb">╭──────────────────────────────────────────── Message History ────────────────────────────────────────────╮</span> │
│   │ <span style="background-color: #e7dfeb">│ ┏━━━━━━┳━━━━━━━━━┓                                                                                      │</span> │
│   │ <span style="background-color: #e7dfeb">│ ┃</span><span style="background-color: #e7dfeb; font-weight: bold"> Role </span><span style="background-color: #e7dfeb">┃</span><span style="background-color: #e7dfeb; font-weight: bold"> Content </span><span style="background-color: #e7dfeb">┃                                                                                      │</span> │
│   │ <span style="background-color: #e7dfeb">│ ┡━━━━━━╇━━━━━━━━━┩                                                                                      │</span> │
│   │ <span style="background-color: #e7dfeb">│ └──────┴─────────┘                                                                                      │</span> │
│   │ <span style="background-color: #e7dfeb">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │
│   │ <span style="background-color: #f5f5dc">╭──────────────────────────────────────────── Raw LLM Output ─────────────────────────────────────────────╮</span> │
│   │ <span style="background-color: #f5f5dc">│ {                                                                                                       │</span> │
│   │ <span style="background-color: #f5f5dc">│     "gender": "Male",                                                                                   │</span> │
│   │ <span style="background-color: #f5f5dc">│     "age": 49,                                                                                          │</span> │
│   │ <span style="background-color: #f5f5dc">│     "symptoms": [                                                                                       │</span> │
│   │ <span style="background-color: #f5f5dc">│         {                                                                                               │</span> │
│   │ <span style="background-color: #f5f5dc">│             "symptom": "macular rash",                                                                  │</span> │
│   │ <span style="background-color: #f5f5dc">│             "affected_area": "face &amp; hair"                                                              │</span> │
│   │ <span style="background-color: #f5f5dc">│         },                                                                                              │</span> │
│   │ <span style="background-color: #f5f5dc">│         {                                                                                               │</span> │
│   │ <span style="background-color: #f5f5dc">│             "symptom": "itchy",                                                                         │</span> │
│   │ <span style="background-color: #f5f5dc">│             "affected_area": "beard, eyebrows &amp; nares"                                                  │</span> │
│   │ <span style="background-color: #f5f5dc">│         },                                                                                              │</span> │
│   │ <span style="background-color: #f5f5dc">│         {                                                                                               │</span> │
│   │ <span style="background-color: #f5f5dc">│             "symptom": "flaky",                                                                         │</span> │
│   │ <span style="background-color: #f5f5dc">│             "affected_area": "beard, eyebrows &amp; nares"                                                  │</span> │
│   │ <span style="background-color: #f5f5dc">│         },                                                                                              │</span> │
│   │ <span style="background-color: #f5f5dc">│         {                                                                                               │</span> │
│   │ <span style="background-color: #f5f5dc">│             "symptom": "slightly scaly",                                                                │</span> │
│   │ <span style="background-color: #f5f5dc">│             "affected_area": "beard, eyebrows &amp; nares"                                                  │</span> │
│   │ <span style="background-color: #f5f5dc">│         }                                                                                               │</span> │
│   │ <span style="background-color: #f5f5dc">│     ],                                                                                                  │</span> │
│   │ <span style="background-color: #f5f5dc">│     "current_meds": [                                                                                   │</span> │
│   │ <span style="background-color: #f5f5dc">│         {                                                                                               │</span> │
│   │ <span style="background-color: #f5f5dc">│             "medication": "OTC steroid cream",                                                          │</span> │
│   │ <span style="background-color: #f5f5dc">│             "response": "Moderate response"                                                             │</span> │
│   │ <span style="background-color: #f5f5dc">│         }                                                                                               │</span> │
│   │ <span style="background-color: #f5f5dc">│     ]                                                                                                   │</span> │
│   │ <span style="background-color: #f5f5dc">│ }                                                                                                       │</span> │
│   │ <span style="background-color: #f5f5dc">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │
│   │ <span style="background-color: #f0fff0">╭─────────────────────────────────────────── Validated Output ────────────────────────────────────────────╮</span> │
│   │ <span style="background-color: #f0fff0">│ {                                                                                                       │</span> │
│   │ <span style="background-color: #f0fff0">│     'gender': 'Male',                                                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│     'age': 49,                                                                                          │</span> │
│   │ <span style="background-color: #f0fff0">│     'symptoms': [                                                                                       │</span> │
│   │ <span style="background-color: #f0fff0">│         {                                                                                               │</span> │
│   │ <span style="background-color: #f0fff0">│             'symptom': 'macular rash',                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│             'affected_area': FieldReAsk(                                                                │</span> │
│   │ <span style="background-color: #f0fff0">│                 incorrect_value='face &amp; hair',                                                          │</span> │
│   │ <span style="background-color: #f0fff0">│                 fail_results=[                                                                          │</span> │
│   │ <span style="background-color: #f0fff0">│                     FailResult(                                                                         │</span> │
│   │ <span style="background-color: #f0fff0">│                         outcome='fail',                                                                 │</span> │
│   │ <span style="background-color: #f0fff0">│                         metadata=None,                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│                         error_message="Value face &amp; hair is not in choices ['head', 'neck', 'chest'].", │</span> │
│   │ <span style="background-color: #f0fff0">│                         fix_value=None                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│                     )                                                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│                 ],                                                                                      │</span> │
│   │ <span style="background-color: #f0fff0">│                 path=['symptoms', 0, 'affected_area']                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│             )                                                                                           │</span> │
│   │ <span style="background-color: #f0fff0">│         },                                                                                              │</span> │
│   │ <span style="background-color: #f0fff0">│         {                                                                                               │</span> │
│   │ <span style="background-color: #f0fff0">│             'symptom': 'itchy',                                                                         │</span> │
│   │ <span style="background-color: #f0fff0">│             'affected_area': FieldReAsk(                                                                │</span> │
│   │ <span style="background-color: #f0fff0">│                 incorrect_value='beard, eyebrows &amp; nares',                                              │</span> │
│   │ <span style="background-color: #f0fff0">│                 fail_results=[                                                                          │</span> │
│   │ <span style="background-color: #f0fff0">│                     FailResult(                                                                         │</span> │
│   │ <span style="background-color: #f0fff0">│                         outcome='fail',                                                                 │</span> │
│   │ <span style="background-color: #f0fff0">│                         metadata=None,                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│                         error_message="Value beard, eyebrows &amp; nares is not in choices ['head', 'neck', │</span> │
│   │ <span style="background-color: #f0fff0">│ 'chest'].",                                                                                             │</span> │
│   │ <span style="background-color: #f0fff0">│                         fix_value=None                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│                     )                                                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│                 ],                                                                                      │</span> │
│   │ <span style="background-color: #f0fff0">│                 path=['symptoms', 1, 'affected_area']                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│             )                                                                                           │</span> │
│   │ <span style="background-color: #f0fff0">│         },                                                                                              │</span> │
│   │ <span style="background-color: #f0fff0">│         {                                                                                               │</span> │
│   │ <span style="background-color: #f0fff0">│             'symptom': 'flaky',                                                                         │</span> │
│   │ <span style="background-color: #f0fff0">│             'affected_area': FieldReAsk(                                                                │</span> │
│   │ <span style="background-color: #f0fff0">│                 incorrect_value='beard, eyebrows &amp; nares',                                              │</span> │
│   │ <span style="background-color: #f0fff0">│                 fail_results=[                                                                          │</span> │
│   │ <span style="background-color: #f0fff0">│                     FailResult(                                                                         │</span> │
│   │ <span style="background-color: #f0fff0">│                         outcome='fail',                                                                 │</span> │
│   │ <span style="background-color: #f0fff0">│                         metadata=None,                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│                         error_message="Value beard, eyebrows &amp; nares is not in choices ['head', 'neck', │</span> │
│   │ <span style="background-color: #f0fff0">│ 'chest'].",                                                                                             │</span> │
│   │ <span style="background-color: #f0fff0">│                         fix_value=None                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│                     )                                                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│                 ],                                                                                      │</span> │
│   │ <span style="background-color: #f0fff0">│                 path=['symptoms', 2, 'affected_area']                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│             )                                                                                           │</span> │
│   │ <span style="background-color: #f0fff0">│         },                                                                                              │</span> │
│   │ <span style="background-color: #f0fff0">│         {                                                                                               │</span> │
│   │ <span style="background-color: #f0fff0">│             'symptom': 'slightly scaly',                                                                │</span> │
│   │ <span style="background-color: #f0fff0">│             'affected_area': FieldReAsk(                                                                │</span> │
│   │ <span style="background-color: #f0fff0">│                 incorrect_value='beard, eyebrows &amp; nares',                                              │</span> │
│   │ <span style="background-color: #f0fff0">│                 fail_results=[                                                                          │</span> │
│   │ <span style="background-color: #f0fff0">│                     FailResult(                                                                         │</span> │
│   │ <span style="background-color: #f0fff0">│                         outcome='fail',                                                                 │</span> │
│   │ <span style="background-color: #f0fff0">│                         metadata=None,                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│                         error_message="Value beard, eyebrows &amp; nares is not in choices ['head', 'neck', │</span> │
│   │ <span style="background-color: #f0fff0">│ 'chest'].",                                                                                             │</span> │
│   │ <span style="background-color: #f0fff0">│                         fix_value=None                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│                     )                                                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│                 ],                                                                                      │</span> │
│   │ <span style="background-color: #f0fff0">│                 path=['symptoms', 3, 'affected_area']                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│             )                                                                                           │</span> │
│   │ <span style="background-color: #f0fff0">│         }                                                                                               │</span> │
│   │ <span style="background-color: #f0fff0">│     ],                                                                                                  │</span> │
│   │ <span style="background-color: #f0fff0">│     'current_meds': [                                                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│         {'medication': 'OTC steroid cream', 'response': 'Moderate response'}                            │</span> │
│   │ <span style="background-color: #f0fff0">│     ]                                                                                                   │</span> │
│   │ <span style="background-color: #f0fff0">│ }                                                                                                       │</span> │
│   │ <span style="background-color: #f0fff0">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │
│   ╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
└── ╭────────────────────────────────────────────────── Step 1 ───────────────────────────────────────────────────╮
    │ <span style="background-color: #f0f8ff">╭──────────────────────────────────────────────── Prompt ─────────────────────────────────────────────────╮</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│ I was given the following JSON response, which had problems due to incorrect values.                    │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│ {                                                                                                       │</span> │
    │ <span style="background-color: #f0f8ff">│   "gender": "Male",                                                                                     │</span> │
    │ <span style="background-color: #f0f8ff">│   "age": 49,                                                                                            │</span> │
    │ <span style="background-color: #f0f8ff">│   "symptoms": [                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│       "symptom": "macular rash",                                                                        │</span> │
    │ <span style="background-color: #f0f8ff">│       "affected_area": {                                                                                │</span> │
    │ <span style="background-color: #f0f8ff">│         "incorrect_value": "face &amp; hair",                                                               │</span> │
    │ <span style="background-color: #f0f8ff">│         "error_messages": [                                                                             │</span> │
    │ <span style="background-color: #f0f8ff">│           "Value face &amp; hair is not in choices ['head', 'neck', 'chest']."                              │</span> │
    │ <span style="background-color: #f0f8ff">│         ]                                                                                               │</span> │
    │ <span style="background-color: #f0f8ff">│       }                                                                                                 │</span> │
    │ <span style="background-color: #f0f8ff">│     },                                                                                                  │</span> │
    │ <span style="background-color: #f0f8ff">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│       "symptom": "itchy",                                                                               │</span> │
    │ <span style="background-color: #f0f8ff">│       "affected_area": {                                                                                │</span> │
    │ <span style="background-color: #f0f8ff">│         "incorrect_value": "beard, eyebrows &amp; nares",                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│         "error_messages": [                                                                             │</span> │
    │ <span style="background-color: #f0f8ff">│           "Value beard, eyebrows &amp; nares is not in choices ['head', 'neck', 'chest']."                  │</span> │
    │ <span style="background-color: #f0f8ff">│         ]                                                                                               │</span> │
    │ <span style="background-color: #f0f8ff">│       }                                                                                                 │</span> │
    │ <span style="background-color: #f0f8ff">│     },                                                                                                  │</span> │
    │ <span style="background-color: #f0f8ff">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│       "symptom": "flaky",                                                                               │</span> │
    │ <span style="background-color: #f0f8ff">│       "affected_area": {                                                                                │</span> │
    │ <span style="background-color: #f0f8ff">│         "incorrect_value": "beard, eyebrows &amp; nares",                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│         "error_messages": [                                                                             │</span> │
    │ <span style="background-color: #f0f8ff">│           "Value beard, eyebrows &amp; nares is not in choices ['head', 'neck', 'chest']."                  │</span> │
    │ <span style="background-color: #f0f8ff">│         ]                                                                                               │</span> │
    │ <span style="background-color: #f0f8ff">│       }                                                                                                 │</span> │
    │ <span style="background-color: #f0f8ff">│     },                                                                                                  │</span> │
    │ <span style="background-color: #f0f8ff">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│       "symptom": "slightly scaly",                                                                      │</span> │
    │ <span style="background-color: #f0f8ff">│       "affected_area": {                                                                                │</span> │
    │ <span style="background-color: #f0f8ff">│         "incorrect_value": "beard, eyebrows &amp; nares",                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│         "error_messages": [                                                                             │</span> │
    │ <span style="background-color: #f0f8ff">│           "Value beard, eyebrows &amp; nares is not in choices ['head', 'neck', 'chest']."                  │</span> │
    │ <span style="background-color: #f0f8ff">│         ]                                                                                               │</span> │
    │ <span style="background-color: #f0f8ff">│       }                                                                                                 │</span> │
    │ <span style="background-color: #f0f8ff">│     }                                                                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│   ],                                                                                                    │</span> │
    │ <span style="background-color: #f0f8ff">│   "current_meds": [                                                                                     │</span> │
    │ <span style="background-color: #f0f8ff">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│       "medication": "OTC steroid cream",                                                                │</span> │
    │ <span style="background-color: #f0f8ff">│       "response": "Moderate response"                                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│     }                                                                                                   │</span> │
    │ <span style="background-color: #f0f8ff">│   ]                                                                                                     │</span> │
    │ <span style="background-color: #f0f8ff">│ }                                                                                                       │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│ Help me correct the incorrect values based on the given error messages.                                 │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│ Given below is XML that describes the information to extract from this document and the tags to extract │</span> │
    │ <span style="background-color: #f0f8ff">│ it into.                                                                                                │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│ &lt;output&gt;                                                                                                │</span> │
    │ <span style="background-color: #f0f8ff">│     &lt;string name="gender" description="Patient's gender"/&gt;                                              │</span> │
    │ <span style="background-color: #f0f8ff">│     &lt;integer name="age" format="valid-range: min=0 max=100"/&gt;                                           │</span> │
    │ <span style="background-color: #f0f8ff">│     &lt;list name="symptoms" description="Symptoms that the patient is currently experiencing. Each        │</span> │
    │ <span style="background-color: #f0f8ff">│ symptom should be classified into a separate item in the list."&gt;                                        │</span> │
    │ <span style="background-color: #f0f8ff">│         &lt;object&gt;                                                                                        │</span> │
    │ <span style="background-color: #f0f8ff">│             &lt;string name="symptom" description="Symptom that a patient is experiencing"/&gt;               │</span> │
    │ <span style="background-color: #f0f8ff">│             &lt;string name="affected_area" format="valid-choices: choices=['head', 'neck', 'chest']"      │</span> │
    │ <span style="background-color: #f0f8ff">│ description="What part of the body the symptom is affecting"/&gt;                                          │</span> │
    │ <span style="background-color: #f0f8ff">│         &lt;/object&gt;                                                                                       │</span> │
    │ <span style="background-color: #f0f8ff">│     &lt;/list&gt;                                                                                             │</span> │
    │ <span style="background-color: #f0f8ff">│     &lt;list name="current_meds" description="Medications the patient is currently taking and their        │</span> │
    │ <span style="background-color: #f0f8ff">│ response"&gt;                                                                                              │</span> │
    │ <span style="background-color: #f0f8ff">│         &lt;object&gt;                                                                                        │</span> │
    │ <span style="background-color: #f0f8ff">│             &lt;string name="medication" description="Name of the medication the patient is taking"/&gt;      │</span> │
    │ <span style="background-color: #f0f8ff">│             &lt;string name="response" description="How the patient is responding to the medication"/&gt;     │</span> │
    │ <span style="background-color: #f0f8ff">│         &lt;/object&gt;                                                                                       │</span> │
    │ <span style="background-color: #f0f8ff">│     &lt;/list&gt;                                                                                             │</span> │
    │ <span style="background-color: #f0f8ff">│ &lt;/output&gt;                                                                                               │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│ ONLY return a valid JSON object (no other text is necessary), where the key of the field in JSON is the │</span> │
    │ <span style="background-color: #f0f8ff">│ `name` attribute of the corresponding XML, and the value is of the type specified by the corresponding  │</span> │
    │ <span style="background-color: #f0f8ff">│ XML's tag. The JSON MUST conform to the XML format, including any types and format requests e.g.        │</span> │
    │ <span style="background-color: #f0f8ff">│ requests for lists, objects and specific types. Be correct and concise. If you are unsure anywhere,     │</span> │
    │ <span style="background-color: #f0f8ff">│ enter `null`.                                                                                           │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│ Json Output:                                                                                            │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">│                                                                                                         │</span> │
    │ <span style="background-color: #f0f8ff">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │
    │ <span style="background-color: #fff0f2">╭───────────────────────────────────────────── Instructions ──────────────────────────────────────────────╮</span> │
    │ <span style="background-color: #fff0f2">│                                                                                                         │</span> │
    │ <span style="background-color: #fff0f2">│ You are a helpful assistant only capable of communicating with valid JSON, and no other text.           │</span> │
    │ <span style="background-color: #fff0f2">│                                                                                                         │</span> │
    │ <span style="background-color: #fff0f2">│ ONLY return a valid JSON object (no other text is necessary), where the key of the field in JSON is the │</span> │
    │ <span style="background-color: #fff0f2">│ `name` attribute of the corresponding XML, and the value is of the type specified by the corresponding  │</span> │
    │ <span style="background-color: #fff0f2">│ XML's tag. The JSON MUST conform to the XML format, including any types and format requests e.g.        │</span> │
    │ <span style="background-color: #fff0f2">│ requests for lists, objects and specific types. Be correct and concise. If you are unsure anywhere,     │</span> │
    │ <span style="background-color: #fff0f2">│ enter `null`.                                                                                           │</span> │
    │ <span style="background-color: #fff0f2">│                                                                                                         │</span> │
    │ <span style="background-color: #fff0f2">│ Here are examples of simple (XML, JSON) pairs that show the expected behavior:                          │</span> │
    │ <span style="background-color: #fff0f2">│ - `&lt;string name='foo' format='two-words lower-case' /&gt;` =&gt; `{'foo': 'example one'}`                     │</span> │
    │ <span style="background-color: #fff0f2">│ - `&lt;list name='bar'&gt;&lt;string format='upper-case' /&gt;&lt;/list&gt;` =&gt; `{"bar": ['STRING ONE', 'STRING TWO',     │</span> │
    │ <span style="background-color: #fff0f2">│ etc.]}`                                                                                                 │</span> │
    │ <span style="background-color: #fff0f2">│ - `&lt;object name='baz'&gt;&lt;string name="foo" format="capitalize two-words" /&gt;&lt;integer name="index"          │</span> │
    │ <span style="background-color: #fff0f2">│ format="1-indexed" /&gt;&lt;/object&gt;` =&gt; `{'baz': {'foo': 'Some String', 'index': 1}}`                        │</span> │
    │ <span style="background-color: #fff0f2">│                                                                                                         │</span> │
    │ <span style="background-color: #fff0f2">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │
    │ <span style="background-color: #e7dfeb">╭──────────────────────────────────────────── Message History ────────────────────────────────────────────╮</span> │
    │ <span style="background-color: #e7dfeb">│ No message history.                                                                                     │</span> │
    │ <span style="background-color: #e7dfeb">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │
    │ <span style="background-color: #f5f5dc">╭──────────────────────────────────────────── Raw LLM Output ─────────────────────────────────────────────╮</span> │
    │ <span style="background-color: #f5f5dc">│ {                                                                                                       │</span> │
    │ <span style="background-color: #f5f5dc">│   "gender": "Male",                                                                                     │</span> │
    │ <span style="background-color: #f5f5dc">│   "age": 49,                                                                                            │</span> │
    │ <span style="background-color: #f5f5dc">│   "symptoms": [                                                                                         │</span> │
    │ <span style="background-color: #f5f5dc">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f5f5dc">│       "symptom": "macular rash",                                                                        │</span> │
    │ <span style="background-color: #f5f5dc">│       "affected_area": "head"                                                                           │</span> │
    │ <span style="background-color: #f5f5dc">│     },                                                                                                  │</span> │
    │ <span style="background-color: #f5f5dc">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f5f5dc">│       "symptom": "itchy",                                                                               │</span> │
    │ <span style="background-color: #f5f5dc">│       "affected_area": "neck"                                                                           │</span> │
    │ <span style="background-color: #f5f5dc">│     },                                                                                                  │</span> │
    │ <span style="background-color: #f5f5dc">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f5f5dc">│       "symptom": "flaky",                                                                               │</span> │
    │ <span style="background-color: #f5f5dc">│       "affected_area": "chest"                                                                          │</span> │
    │ <span style="background-color: #f5f5dc">│     },                                                                                                  │</span> │
    │ <span style="background-color: #f5f5dc">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f5f5dc">│       "symptom": "slightly scaly",                                                                      │</span> │
    │ <span style="background-color: #f5f5dc">│       "affected_area": "chest"                                                                          │</span> │
    │ <span style="background-color: #f5f5dc">│     }                                                                                                   │</span> │
    │ <span style="background-color: #f5f5dc">│   ],                                                                                                    │</span> │
    │ <span style="background-color: #f5f5dc">│   "current_meds": [                                                                                     │</span> │
    │ <span style="background-color: #f5f5dc">│     {                                                                                                   │</span> │
    │ <span style="background-color: #f5f5dc">│       "medication": "OTC steroid cream",                                                                │</span> │
    │ <span style="background-color: #f5f5dc">│       "response": "Moderate response"                                                                   │</span> │
    │ <span style="background-color: #f5f5dc">│     }                                                                                                   │</span> │
    │ <span style="background-color: #f5f5dc">│   ]                                                                                                     │</span> │
    │ <span style="background-color: #f5f5dc">│ }                                                                                                       │</span> │
    │ <span style="background-color: #f5f5dc">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │
    │ <span style="background-color: #f0fff0">╭─────────────────────────────────────────── Validated Output ────────────────────────────────────────────╮</span> │
    │ <span style="background-color: #f0fff0">│ {                                                                                                       │</span> │
    │ <span style="background-color: #f0fff0">│     'gender': 'Male',                                                                                   │</span> │
    │ <span style="background-color: #f0fff0">│     'age': 49,                                                                                          │</span> │
    │ <span style="background-color: #f0fff0">│     'symptoms': [                                                                                       │</span> │
    │ <span style="background-color: #f0fff0">│         {'symptom': 'macular rash', 'affected_area': 'head'},                                           │</span> │
    │ <span style="background-color: #f0fff0">│         {'symptom': 'itchy', 'affected_area': 'neck'},                                                  │</span> │
    │ <span style="background-color: #f0fff0">│         {'symptom': 'flaky', 'affected_area': 'chest'},                                                 │</span> │
    │ <span style="background-color: #f0fff0">│         {'symptom': 'slightly scaly', 'affected_area': 'chest'}                                         │</span> │
    │ <span style="background-color: #f0fff0">│     ],                                                                                                  │</span> │
    │ <span style="background-color: #f0fff0">│     'current_meds': [                                                                                   │</span> │
    │ <span style="background-color: #f0fff0">│         {'medication': 'OTC steroid cream', 'response': 'Moderate response'}                            │</span> │
    │ <span style="background-color: #f0fff0">│     ]                                                                                                   │</span> │
    │ <span style="background-color: #f0fff0">│ }                                                                                                       │</span> │
    │ <span style="background-color: #f0fff0">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │
    ╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
</pre>