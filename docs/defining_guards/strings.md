# Strings

Guardrails is currently only available in python, but we do want to expand to other languages as demand becomes apparent. 

As you've seen in other concepts pages, RAIL xml and pydantic are used to model Guards. 

Guardrails additionally supports single-field, string outputs. This is useful for running validations on simple, single-value outputs.

The specification for writing up validators and including failure modes is identical to what we see in <a href='/defining_guards/pydantic'>pydantic</a>.

### Simple Example

In this simple example, we initialize a guard that validates a string output and ensures that it is within 10-20 characters. We first print the final, validated response, then we print the history of the request to see everything the Guard has done to ensure that the name fits parameters.

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! Instead, edit the notebook w/the location & name as this file. -->


```python
from guardrails import Guard
from guardrails.validators import ValidLength
import openai
from rich import print

guard = Guard.from_string(
    validators=[ValidLength(min=10, max=20, on_fail='reask')],
    description="Puppy name",
    prompt="Generate a puppy name"
)

raw_llm_output, validated_llm_response = guard(openai.Completion.create)
print(validated_llm_response)
print(guard.state.most_recent_call.tree)
```
    
<CodeOutputBlock dangerouslySetInnerHTML={{ __html: "Async event loop found, but guard was invoked synchronously.For validator parallelization, please call `validate_async` instead.<br />    Async event loop found, but guard was invoked synchronously.For validator parallelization, please call `validate_async` instead.<br /><br /><br /><br />```html<br /><pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">Fifi the Puppy<br /></pre><br />```<br /><br /><br /><br />```html<br /><pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">Logs<br />├── ╭────────────────────────────────────────────────── Step 0 ───────────────────────────────────────────────────╮<br />│   │ <span style=\"background-color: #f0f8ff\">╭──────────────────────────────────────────────── Prompt ─────────────────────────────────────────────────╮</span> │<br />│   │ <span style=\"background-color: #f0f8ff\">│ Generate a puppy name                                                                                   │</span> │<br />│   │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />│   │ <span style=\"background-color: #f0f8ff\">│ String Output:                                                                                          │</span> │<br />│   │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />│   │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />│   │ <span style=\"background-color: #f0f8ff\">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │<br />│   │ <span style=\"background-color: #e7dfeb\">╭──────────────────────────────────────────── Message History ────────────────────────────────────────────╮</span> │<br />│   │ <span style=\"background-color: #e7dfeb\">│ ┏━━━━━━┳━━━━━━━━━┓                                                                                      │</span> │<br />│   │ <span style=\"background-color: #e7dfeb\">│ ┃</span><span style=\"background-color: #e7dfeb; font-weight: bold\"> Role </span><span style=\"background-color: #e7dfeb\">┃</span><span style=\"background-color: #e7dfeb; font-weight: bold\"> Content </span><span style=\"background-color: #e7dfeb\">┃                                                                                      │</span> │<br />│   │ <span style=\"background-color: #e7dfeb\">│ ┡━━━━━━╇━━━━━━━━━┩                                                                                      │</span> │<br />│   │ <span style=\"background-color: #e7dfeb\">│ └──────┴─────────┘                                                                                      │</span> │<br />│   │ <span style=\"background-color: #e7dfeb\">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │<br />│   │ <span style=\"background-color: #f5f5dc\">╭──────────────────────────────────────────── Raw LLM Output ─────────────────────────────────────────────╮</span> │<br />│   │ <span style=\"background-color: #f5f5dc\">│ Fuzzy                                                                                                   │</span> │<br />│   │ <span style=\"background-color: #f5f5dc\">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │<br />│   │ <span style=\"background-color: #f0fff0\">╭─────────────────────────────────────────── Validated Output ────────────────────────────────────────────╮</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│ FieldReAsk(                                                                                             │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│     incorrect_value='Fuzzy',                                                                            │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│     fail_results=[                                                                                      │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│         FailResult(                                                                                     │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│             outcome='fail',                                                                             │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│             metadata=None,                                                                              │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│             error_message='Value has length less than 10. Please return a longer output, that is        │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│ shorter than 20 characters.',                                                                           │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│             fix_value='Fuzzyyyyyy'                                                                      │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│         )                                                                                               │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│     ],                                                                                                  │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│     path=None                                                                                           │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">│ )                                                                                                       │</span> │<br />│   │ <span style=\"background-color: #f0fff0\">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │<br />│   ╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────╯<br />└── ╭────────────────────────────────────────────────── Step 1 ───────────────────────────────────────────────────╮<br />    │ <span style=\"background-color: #f0f8ff\">╭──────────────────────────────────────────────── Prompt ─────────────────────────────────────────────────╮</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ This was a previous response you generated:                                                             │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ ======                                                                                                  │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ Fuzzy                                                                                                   │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ ======                                                                                                  │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ Generate a new response that corrects your old response such that the following issues are fixed        │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ - Value has length less than 10. Please return a longer output, that is shorter than 20 characters.     │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ Here's a description of what I want you to generate: Puppy name                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ Your generated response should satisfy the following properties:                                        │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ - length: min=10 max=20                                                                                 │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ Don't talk; just go.                                                                                    │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│ String Output:                                                                                          │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">│                                                                                                         │</span> │<br />    │ <span style=\"background-color: #f0f8ff\">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │<br />    │ <span style=\"background-color: #fff0f2\">╭───────────────────────────────────────────── Instructions ──────────────────────────────────────────────╮</span> │<br />    │ <span style=\"background-color: #fff0f2\">│ You are a helpful assistant.                                                                            │</span> │<br />    │ <span style=\"background-color: #fff0f2\">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │<br />    │ <span style=\"background-color: #e7dfeb\">╭──────────────────────────────────────────── Message History ────────────────────────────────────────────╮</span> │<br />    │ <span style=\"background-color: #e7dfeb\">│ No message history.                                                                                     │</span> │<br />    │ <span style=\"background-color: #e7dfeb\">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │<br />    │ <span style=\"background-color: #f5f5dc\">╭──────────────────────────────────────────── Raw LLM Output ─────────────────────────────────────────────╮</span> │<br />    │ <span style=\"background-color: #f5f5dc\">│ Fifi the Puppy                                                                                          │</span> │<br />    │ <span style=\"background-color: #f5f5dc\">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │<br />    │ <span style=\"background-color: #f0fff0\">╭─────────────────────────────────────────── Validated Output ────────────────────────────────────────────╮</span> │<br />    │ <span style=\"background-color: #f0fff0\">│ 'Fifi the Puppy'                                                                                        │</span> │<br />    │ <span style=\"background-color: #f0fff0\">╰─────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span> │<br />    ╰─────────────────────────────────────────────────────────────────────────────────────────────────────────────╯<br /></pre>"}} />
